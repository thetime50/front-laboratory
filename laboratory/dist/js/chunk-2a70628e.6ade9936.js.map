{"version":3,"sources":["webpack:///./src/page/web/shadowDom/shadowDom.vue?0156","webpack:///./src/page/web/shadowDom/shadowDom.vue?b875","webpack:///src/page/web/shadowDom/shadowDom.vue","webpack:///./src/page/web/shadowDom/shadowDom.vue?8cdb","webpack:///./src/page/web/shadowDom/shadowDom.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","ref","staticRenderFns","component"],"mappings":"gHAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACN,EAAIO,GAAG,gBAAgBH,EAAG,MAAM,CAACI,IAAI,UAChLC,EAAkB,GCiBtB,kHAQA,kCAMA,GACE,KAAF,aACE,KAFF,WAGI,MAAJ,IAGE,QANF,WAMI,IAAJ,OACI,KAAJ,sBACM,EAAN,WAGE,QAAF,CACI,KADJ,WAIM,KAAN,WAGI,WAPJ,WAOM,iBACA,IAAN,gBACM,QAAN,wBACM,IAAN,uBACM,EAAN,eAGI,WAdJ,WAcM,iBACA,IAAN,gBACA,uBACA,8CACM,EAAN,gDAGI,QArBJ,WAsBM,IAAN,gBACA,kBAAQ,KAAR,SACA,8BACM,EAAN,qDACM,EAAN,uCACM,EAAN,uCAEM,IAAN,kCACM,EAAN,cACM,EAAN,0CC1EiX,I,wBCQ7WC,EAAY,eACd,EACAX,EACAU,GACA,EACA,KACA,WACA,MAIa,aAAAC,E","file":"js/chunk-2a70628e.6ade9936.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shadowDom.vue?vue&type=style&index=0&id=975003fa&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"component-shadow-dom\"},[_vm._v(\" shadow-dom \"),_c('div',{ref:\"sw\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"component-shadow-dom\">\r\n        shadow-dom\r\n        <div ref=\"sw\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    /* message */\r\n\r\n/** \r\n * createShadowRoot // 不推荐使用此方法，而使用attachShadow()。 https://developer.mozilla.org/zh-CN/docs/Web/API/Element/createShadowRoot\r\n * importNode // 拷贝节点 https://developer.mozilla.org/zh-CN/docs/Web/API/Document/importNode\r\n * attachShadow\r\n * shadowRoot\r\n * \r\n*/\r\n\r\nconst elContent = `\r\n<p>\r\n<span class=\"red\">hello</span> world\r\n</p>\r\n<p>\r\nhello <span class=\"blue\"> shadown dom </span>\r\n</p>\r\n`\r\nconst styleContent = `\r\n.red{\r\n    color:#f99;\r\n}\r\n`\r\n\r\n    export default {\r\n        name: \"shadow-dom\",\r\n        data () {\r\n            return {\r\n            };\r\n        },\r\n        mounted () {\r\n            this.$nextTick(()=>{\r\n                this.init()\r\n            })\r\n        },\r\n        methods: {\r\n            init(){\r\n                // this.CS_init_1()\r\n                // this.CS_init_2()\r\n                this.AS_init()\r\n            },\r\n            // 影子节点ShadowDOM https://juejin.cn/post/6844903506801852429\r\n            CSR_init_1(){createShadowRoot\r\n                const host = this.$refs.sw\r\n                console.log(host.createShadowRoot )\r\n                let root = host.createShadowRoot() // 已经不支持的api\r\n                root.textContent = elContent\r\n                // \r\n            },\r\n            CSR_init_2(){createShadowRoot\r\n                var host = this.$refs.sw;\r\n                var root = host.createShadowRoot();\r\n                var template = document.querySelector('.pokemon-template');\r\n                root.appendChild(document.importNode(template.content, true)); \r\n            },\r\n            // MDN Using_shadow_DOM https://developer.mozilla.org/zh-CN/docs/Web/Web_Components/Using_shadow_DOM\r\n            AS_init(){ // attachShadow\r\n                var el = this.$refs.sw;\r\n                let shadow = el.attachShadow({mode: 'open'}); // mode:open 外部可以通过js获取到ShadowDom 如el.shadowRoot\r\n                let para = document.createElement('p');\r\n                para.innerHTML='hello <span class=\"red\">shadom dom<span>'\r\n                shadow.appendChild(document.importNode(para,true) )\r\n                shadow.appendChild(document.importNode(para,true))// 为 shadow DOM 添加一些 CSS 样式\r\n                \r\n                var style = document.createElement('style');\r\n                style.textContent = styleContent\r\n                shadow.appendChild(document.importNode(style,true) )\r\n\r\n                // 引入外部样式\r\n                // const linkElem = document.createElement('link');\r\n                // linkElem.setAttribute('rel', 'stylesheet');\r\n                // linkElem.setAttribute('href', 'style.css');\r\n\r\n                // // 将所创建的元素添加到 Shadow DOM 上\r\n\r\n                // shadow.appendChild(linkElem);\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n<style rel=\"stylesheet/scss\" lang=\"scss\" scoped>\r\n    .component-shadow-dom{\r\n        \r\n    }\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shadowDom.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./shadowDom.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./shadowDom.vue?vue&type=template&id=975003fa&scoped=true&\"\nimport script from \"./shadowDom.vue?vue&type=script&lang=js&\"\nexport * from \"./shadowDom.vue?vue&type=script&lang=js&\"\nimport style0 from \"./shadowDom.vue?vue&type=style&index=0&id=975003fa&rel=stylesheet%2Fscss&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"975003fa\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}