webpackJsonp([11],{wRlR:function(e,t){},zc0b:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("Dd8w"),a=r.n(n),i=r("QTrw"),s=(r("+3Av"),{name:"vertices",data:function(){return{renderFun:null,para:{meshIndex:0,vertexColors:!1,normal:!1},meshOptions:[{text:"basic 三角面(网格)渲染",value:0},{text:"漫反射渲染 (需要有法线数据)",value:1},{text:"点渲染模",value:2},{text:"线条渲染",value:3}]}},mounted:function(){var e=this;this.$nextTick(function(){e.init()})},computed:{getMesh:function(){return[function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new i.MeshBasicMaterial(a()({},t,{side:i.DoubleSide}));return new i.Mesh(e,r)},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new i.MeshLambertMaterial(a()({},t,{side:i.DoubleSide}));return new i.Mesh(e,r)},function(e,t){var r=new i.PointsMaterial(a()({},t,{size:5}));return new i.Points(e,r)},function(e,t){var r=new i.LineBasicMaterial(a()({},t));return new i.Line(e,r)}][this.para.meshIndex]}},methods:{render:function(){this.renderFun&&this.renderFun()},onResize:function(){},init:function(){var e=this,t=this.$refs.three;t.firstChild&&t.removeChild(t.firstChild);var r=new i.Scene,n=new i.BufferGeometry,a=new Float32Array([0,0,0,50,0,0,0,100,0,0,0,-30,0,0,100,50,0,0]),s=new i.BufferAttribute(a,3);n.attributes.position=s;var o=new Float32Array([1,0,0,0,1,0,0,0,1,1,1,0,0,1,1,1,0,1]);if(n.attributes.color=new i.BufferAttribute(o,3),this.para.normal){var l=new Float32Array([0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0]);n.attributes.normal=new i.BufferAttribute(l,3)}var u=void 0;u=this.para.vertexColors?this.getMesh(n,{vertexColors:i.VertexColors}):this.getMesh(n,{color:255}),r.add(u);var h=new i.AxisHelper(250);r.add(h);var c=new i.PointLight(16777215);c.position.set(400,200,300),r.add(c);var d=new i.AmbientLight(8421504);r.add(d);var v=this.$refs.three.clientWidth/this.$refs.three.clientHeight,f=200,m=new i.OrthographicCamera(-f*v,f*v,f,-f,1,1e3);m.position.set(200,300,200),m.lookAt(r.position);var p=new i.WebGLRenderer;p.setClearColor(12178431,1),this.$refs.three.appendChild(p.domElement),this.renderFun=function(){var t=e.$refs.three.clientWidth,n=e.$refs.three.clientHeight;p.setSize(t,n),p.render(r,m)},this.renderFun(),new i.OrbitControls(m,p.domElement).addEventListener("change",this.renderFun)}},watch:{para:{handler:function(e,t){this.init()},deep:!0}}}),o={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"component-vertices flex-layout"},[r("el-form",{staticClass:"flex-none"},[r("el-form-item",{attrs:{label:""}},[r("el-radio-group",{model:{value:e.para.meshIndex,callback:function(t){e.$set(e.para,"meshIndex",t)},expression:"para.meshIndex"}},e._l(e.meshOptions,function(t,n){return r("el-radio",{key:n,attrs:{label:t.value}},[e._v("\r\n                    "+e._s(t.text)+"\r\n                ")])}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:""}},[r("el-checkbox",{model:{value:e.para.vertexColors,callback:function(t){e.$set(e.para,"vertexColors",t)},expression:"para.vertexColors"}},[e._v("顶点着色")]),e._v(" "),r("el-checkbox",{model:{value:e.para.normal,callback:function(t){e.$set(e.para,"normal",t)},expression:"para.normal"}},[e._v("法向量(漫反射渲染)")])],1)],1),e._v(" "),r("div",{directives:[{name:"resize",rawName:"v-resize:throttle",value:e.onResize,expression:"onResize",arg:"throttle"}],staticClass:"three-wrap flex-auto"},[r("div",{ref:"three",staticClass:"three full-block"})])],1)},staticRenderFns:[]};var l=r("VU/8")(s,o,!1,function(e){r("wRlR")},"data-v-79f91226",null);t.default=l.exports}});
//# sourceMappingURL=11.5263cb8443dcb6a6d862.js.map